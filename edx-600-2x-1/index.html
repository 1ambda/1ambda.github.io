<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Blog">
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <title>Intro to Computational Thinking and Data Science 1</title>
  <meta name="description" content="" />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Intro to Computational Thinking and Data Science 1">
  <meta name="twitter:description" content="Simulation Models Simulation attempts to build an experimental device called model Simulation model is descriptive, not prescriptive 직역하자면 시뮬레이션은 실험가능한 도구인 모델을 만들어낸다. 모든 모델이 정확하진 않지만, 다시 말해 현상을 완벽하게 설명하진 못하지만, 어떤 모델들은 대략 비슷하게 사실을 예측해 낸다. 그런점에서 모델은 유용하다. (1) Deterministic simulations are completely defined by">
  <meta name="twitter:creator" content="@yourTwitterUsername">
  <meta name="twitter:image" content="">
  <meta name="twitter:url" content="http://1ambda.github.io/edx-600-2x-1/">
  <meta name="twitter:domain" content="http://1ambda.github.io">

  

  <link rel="author" href="https://plus.google.com/101105410053351451441?rel=author" />

  <link rel="shortcut icon" href="../favicon.ico">

  <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Serif" />
  <link rel='stylesheet' type='text/css' href="http://fonts.googleapis.com/css?family=Open+Sans:600,300" />
  <link rel="stylesheet" type="text/css" href="../assets/stylesheets/xpressio.css" />
  <link rel="stylesheet" type="text/css" href="../assets/1ambda/1ambda.css" />
  <script type="text/javascript" src="../assets/1ambda/modernizr.js">
  </script>
  <script type="text/javascript" src="../assets/1ambda/detectizr.min.js">
  </script>

  <!--load css if windows -->
  <script type="text/javascript">
    if (Modernizr.windows) {
      file = location.pathname.split( "/" ).pop();
      link = document.createElement( "link" );
      link.href = "/assets/1ambda/1ambda_windows.css";
      link.type = "text/css";
      link.rel = "stylesheet";
      link.media = "screen,print";
      document.getElementsByTagName("head")[0].appendChild( link );
    }
  </script>


  
  <link rel="stylesheet" href="../assets/highlight/styles/github.css">
<script src="../assets/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


  <meta name="generator" content="Ghost 0.5" />
<link rel="alternate" type="application/rss+xml" title="Old Lisper" href="../rss">
<link rel="canonical" href="http://1ambda.github.io/edx-600-2x-1/" />

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52181619-1', '1ambda.github.io');
  ga('send', 'pageview');
</script>

  
</head>
<body>

  
  <script src="../public/jquery.js?v=6f47017915"></script>

  

<header class="site_width text center padding_top_big margin_bottom_big">
  
  <h1 class="blog_title margin_bottom_small"><a href="http://1ambda.github.io">Old Lisper</a></h1>
  <h4 class="text book">Lisp, Emacs, Scala</h4>
  
  <div class="social border solid top_small bottom_small padding_medium">
  <h6 class="text book color c_black_medium without_margin padding_right_big"><a href="/about-me"><i class="fa fa-user"></i> <span class="margin_left_small desktop">About me</span></a></h6>
  <h6 class="text book color c_black_medium without_margin padding_right_big"><a href="http://kr.linkedin.com/in/1ambda" target="_blank"><i class="fa fa-linkedin-square"></i> <span class="margin_left_small desktop">Linkedin</span></a></h6>
  <h6 class="text book color c_black_medium without_margin"><a href="http://github.com/1ambda" target="_blank"><i class="fa fa-github"></i> <span class="margin_left_small desktop">GitHub</span></a></h6>
</div>

</header>

<main class="site_width" role="main">
  <article class="post tag-edx tag-python tag-histograms">

    

    <header class="text center margin_bottom_medium">
      <h5 class="text book small uppercase color c_black_light margin_bottom_small">Posted in <a href="../tag/edx">edx</a>, <a href="../tag/python">python</a>, <a href="../tag/histograms">histograms</a></h5>
      <h1 class="margin_bottom_medium">Intro to Computational Thinking and Data Science 1</h1>
      <h5 class="text book small uppercase color c_black_light margin_bottom_small"><time datetime="2014-11-04">Tuesday, November 04, 2014</time>
      <br/><br/>
       <a href="http://1ambda.github.io/edx-600-2x-1/#disqus_thread">Comment</a>
      </h5>
    </header>

    <section>
      <h3 id="simulationmodels">Simulation Models</h3>

<p>Simulation attempts to build an <strong>experimental device</strong> called <em>model</em></p>

<p>Simulation model is <em>descriptive, not prescriptive</em></p>

<p>직역하자면 시뮬레이션은 실험가능한 도구인 모델을 만들어낸다. 모든 모델이 정확하진 않지만, 다시 말해 현상을 완벽하게 설명하진 못하지만, 어떤 모델들은 대략 비슷하게 사실을 예측해 낸다. 그런점에서 모델은 유용하다.</p>

<p>(1) <strong>Deterministic simulations</strong> are completely defined by the model <em>rerunning the simulation will not change the result</em> <br />
(2) <strong>Stochastic simulations</strong> include randomness. <em>Difference runs can generate different results</em>  </p>

<h3 id="nondeterminism">Nondeterminism</h3>

<p>*Casual nondeterminism: * Not every event is caused by previous events</p>

<p>*Predictive nondeterminism: * Lack of knowledge about the world makes it impossible make accurate predictions about future states</p>

<p>*Stachastic Processes: * An ongoing process where the next state might depend on both the previous states and <strong>some random element</strong></p>

<pre><code class="python">def rollDie():  
   """returns an int between 1 and 6"""

def rollDie():  
   """returns a random int between 1 and 6 """
</code></pre>

<p>위쪽 <code>rollDie</code> 는 <em>underdetermined</em> 인 반면 아래쪽은 <em>non-deterministric</em></p>

<h3 id="hashtable">Hash Table</h3>

<p><em>Many to One</em> 이기 때문에 <em>Collision</em> 이 생긴다. <strong>bucket</strong> 을 이용해서 같은 키값을 가진 것들을 같은 버켓에 저장하도록 하면 충돌을 어느정도는 예방할 수 있다. </p>

<p>물론, 테이블이 커지면 충돌이 적어지고 탐색시간이 빨라지지만 메모리가 많이 들고, 테이블이 작아지면 충돌이 많아지고 탐색시간이 <em>linear search</em> 에 가깝게 느려지지만 메모리는 적게든다. <em>Time / Space trade off</em></p>

<p>그리고 좋은 해쉬 함수는 <em>uniform distribution</em> 을 생성한다. 다시 말해서 모든 버킷은 같은 수의 데이터를 담고 있어야 한다.</p>

<p>해시 테이블은 <em>time / space trade off</em> 를 극명하게 보여주는데, <em>collision</em> 이 하나도 없을 때 개당 <em>1 byte</em> 인 10^9 개의 원소를 담고자 한다면, 1GB 가 필요하다.</p>

<p>그래서 해시 테이블을 만들 때는 가능한한 메모리가 허락하는 한도 내에서 최적화 할 필요가 있다. 다시 말하면 <em>table size</em> 와 <em>lookup time</em> 을 동시에 고려해야 한다는 뜻이다.</p>

<p>버킷 내부에 <code>a</code> 개를 저장하면 원소를 검색하는데 <code>O(a)</code> 시간이 걸리지만 메모리는 <code>1/a</code> 배 만큼 줄어든다.</p>

<p>이제 해쉬 함수의 성능을 <em>적어도 한번 충돌이 일어날 수 있는 확률</em> 로 표현해 보자. 한번도 충돌이 나지 않을 경우를 1 에서 빼면 된다.</p>

<p>입력 원소 <code>K</code> 개에 대해, 해쉬함수가 <code>range(n)</code> 의 <em>uniform distribution</em> 을 만들때 <code>hash(k) = 1/n</code> 이다. 이 때 충돌이 한번도 일어나지 않을 확률은 <code>1 * (n-1)/n * (n-2)/n  * .. (n-(k-1))/n</code> 이다. 이 값을 1에서 빼면 <em>적어도 한번 충돌이 일어날 수 있는 확률</em>을 구할수 있다.</p>

<h3 id="birthdayattack">Birthday Attack</h3>

<p>일년이 365일 이라 하면, 얼핏 생각하기에 365명 정도는 모여야 생일이 같은 사람 있을 것 같은데 사실 그렇지 않다. 실제로는 23명만 모여도 생일이 같은 두사람이 있을 확률이 50%를 넘고, 57명이 모이면 99%를 넘는다.</p>

<p>생일이 같은 두 사람을 찾는 것과 비슷하게, 암호학적 해시 결과가 같은 두 입력값을 자는 것 역시 모든 입력값을 계산하지 않앋 충분히 높은 확률로 해시 충돌을 찾을 수 있다. 이러한 암호 공격을 <em>birthday attack</em> 이라 부른다.</p>

<p>바꿔 말하면 <em>birth day problem</em> 은 해시 버켓이 365개인 해시 테이블이라 봐도 무방하다.</p>

<p><code>atLeastTwoSameBirthday</code> 함수는 <code>n + 1</code> 명이 있는 방 안에서 적어도 두명은 생일이 같을 확률을, <code>minNumOfPeopleProb</code> 는 인자로 받은 <code>p</code> 보다 큰, 생일이 같을 확률을 얻기 위한 최소한의 인원을 돌려준다.</p>

<pre><code class="python">import operator


def atLeastTwoSameBirthday(n):  
    xs = range(365 - n, 365)
    ys = map((lambda x: float(x) / 365), xs)
    return 1 - reduce(operator.mul, ys)


def minNumOfPeopleProb(p):  
    for n in range(1, 365):
        if atLeastTwoSameBirthday(n) &gt;= p:
            return n

    return n


print atLeastTwoSameBirthday(29)  
print atLeastTwoSameBirthday(249)  
print minNumOfPeopleProb(0.99)  
</code></pre>

<h3 id="lowoflargenumbers">Low of Large Numbers</h3>

<blockquote>
  <p>In repeated <strong>independent tests</strong> with the same actual probabilty <em>p</em> of a particular outcome in each test, the chance of that the <em>fraction of times</em> that outcome occurs differs from p converges to zero as the number of trials goes to infinity</p>
</blockquote>

<p><em>low of large numbers</em> 는 <strong><code>|head - tail|</code> 이 0에 수렴한다</strong> 를 의미하지 않는다. 오히려 <code>|head - tail|</code> 는 특정 비율이다(<em>ratio</em>)</p>

<p>이제 실제로 그러한지 시뮬레이션을 하기 위해 코드를 작성하면</p>

<pre><code class="python">import pylab  
import random


def flipPlot(minExp, maxExp):  
    ratios = []
    diffs = []
    xAxis = []

    for exp in range(minExp, maxExp + 1):
        xAxis.append(2 ** exp)

    for flips in xAxis:
        heads = 0
        for n in range(flips):
            if random.random() &lt; 0.5:
                heads += 1

        tails = flips - heads
        ratios.append(heads / float(tails))
        diffs.append(abs(heads - tails))

    pylab.title('Diff between Heads and Tails')
    pylab.xlabel("# of Flips")
    pylab.ylabel("Abs(#Heads - #Tails)")
    pylab.plot(xAxis, diffs)
    pylab.figure()
    pylab.title("Heads / Tails Ratios")
    pylab.xlabel("# of Flips")
    pylab.ylabel("Heads / Tails")
    pylab.plot(xAxis, ratios)

random.seed(0)  
flipPlot(4, 20)  
pylab.show()  
</code></pre>

<p>돌려서 나온 <code>|head - tail|</code> 의 그래프에서 선형 관계가 있다고 느낄 수 있는데 사실이 아니다. 우리는 x 축 값을 지수로 증가시켰기 때문에 우측에는 데이터가 별로 없는 반면 왼쪽에는 압축되어있다.</p>

<p>선 대신에 점 형태로 그래프를 그리고 축에 로그를 씌우는 코드로 바꾸자.</p>

<pre><code class="python">    #...

    pylab.title('Diff between Heads and Tails')
    pylab.xlabel("# of Flips")
    pylab.ylabel('Abs(#Heads - #Tails)')
    pylab.plot(xAxis, diffs, 'bo')
    pylab.semilogx()
    pylab.semilogy()
    pylab.figure()
    pylab.title('Heads / Tails Ratios')
    pylab.xlabel('# of Flips')
    pylab.ylabel('Heads / Tails')
    pylab.semilogx()
    pylab.plot(xAxis, ratios, 'ro')

    #...
</code></pre>

<p><code>heads / tails</code> 는 1에 수렴하는걸 알 수 있다. 반면 <code>|heads - tails|</code> 는 완벽하진 않지만 선형의 그래프를 그리는걸 알 수 있다.</p>

<p>여기서 한 가지 사실을 알 수 있다.</p>

<blockquote>
  <p>Never possible to be assured of perfec accuracy through samplings, unless you sample the entire population</p>
</blockquote>

<p>그렇다면 <em>sample</em> 에 대한 경향이 참일때, <em>population</em> 에 대한 경향이 참임을 증명하기 위해서 얼마나 많은 <em>sample</em> 을 살펴봐야 할까?</p>

<blockquote>
  <p>Depends upon the variance in the underlying distribution</p>
</blockquote>

<p>물론 우리는 <em>distribution</em> 을 볼 수 없다. 샘플만 가지고 있기 때문에. 그럼 샘플로 <em>variance</em> 를 얻어보자.</p>

<blockquote>
  <p>We measure the amount of variance in the outcomes of multiple trials</p>
</blockquote>

<p><em>standard deviation</em> 을 이용하자. 표준편차는 우리가 가진 샘플이 평균에 모여있는지, 아닌지를 알려주는 지표다. </p>

<p>다시 말해서 <em>standard deviation</em> 이 작으면, 그래서 샘플의 평균에 샘플들이 대부분 모여있다는걸 알 수 있다면 작은 샘플에 대해서 얻은 어떤 경향이 <em>population</em> 에도 적용된다는 걸 알 수 있다.</p>

<pre><code class="python">def flipPlot(minExp, maxExp, trials):  
    meanRatios = []
    meanDiffs = []
    sdRatios = []
    sdDiffs = []
    xAxis = []

    for exp in range(minExp, maxExp + 1):
        xAxis.append(2 ** exp)

    for flips in xAxis:
        ratios = []
        diffs = []

        for t in range(trials):
            heads, tails = runTrial(flips)
            ratios.append(heads / float(tails))
            diffs.append(abs(heads - tails))
        meanRatios.append(sum(ratios) / trials)
        meanDiffs.append(sum(diffs) / trials)
        sdRatios.append(stdDev(ratios))
        sdDiffs.append(stdDev(diffs))

    pylab.title('Mean of Diff bet Heads and Tails ('+str(trials)+' Trials)')
    pylab.xlabel("# of Flips")
    pylab.ylabel('mean Abs(#Heads - #Tails)')
    pylab.plot(xAxis, meanDiffs, 'bo')
    pylab.semilogx()
    pylab.semilogy()

    pylab.figure()
    pylab.title('SD of Diff bet Heads and Tails ('+str(trials)+' Trials)')
    pylab.xlabel('# of Flips')
    pylab.ylabel('SD Abs(#Heads - #Tails)')
    pylab.plot(xAxis, sdDiffs, 'bo')
    pylab.semilogx()
    pylab.semilogy()

    pylab.figure()
    pylab.title('Mean Heads / Tails Ratios')
    pylab.xlabel('# of Flips')
    pylab.ylabel('mean Heads / Tails')
    pylab.semilogx()
    pylab.plot(xAxis, meanRatios, 'ro')

    pylab.figure()
    pylab.title('SD Heads / Tails Ratios')
    pylab.xlabel('# of Flips')
    pylab.ylabel('SD Heads / Tails')
    pylab.semilogx()
    pylab.semilogy()
    pylab.plot(xAxis, sdRatios, 'ro')

random.seed(0)  
flipPlot(4, 20, 20)  
pylab.show()  
</code></pre>

<p>이제 코드를 돌려보면, <code>heads / tails</code> 의 평균은 1로 수렴하는 것을, 표준편차는 <code>n</code> 이 커질수록 급격히 <code>0</code> 에 가까워지는걸 알 수 있다.</p>

<p>반면 <code>|heads - tails|</code> 의 평균은 <code>n</code> 이 증가할수록 여전히 커지고, 표준편차도 증가한다. </p>

<p>그럼, <code>n</code> 이 클수록 <code>|heads - tails|</code> 의 표준편차가 증가하므로 우리가 얻은 어떤 경향성이 <code>n</code> 이 클수록 더 믿지 못한다는 뜻일까?. </p>

<p>당연히 그렇지 않다! <strong>표준편차는 그 자체로만 보아서는 안되고 평균과 연관지어 생각해야 한다.</strong> 평균이 100억일때, 표준편차가 100이라면 그건 데이터가 모여있음을 의미한다.</p>

<p>결국 <em>평균</em> 이 매우 달라지는 테스트를 할 경우엔 <em>표준편차</em> 를 사용하는건 적절하지 못하다는 사실을 알 수 있다.</p>

<h3 id="coefficientofvariation">coefficient of variation</h3>

<p>그럼 평균이 달라지는경우 표준편차가 의미가 없다면, 어떤 값을 사용해야 <em>population</em> 의 <em>variance</em> 를 알 수 있을까? 표준편차를 평균으로 나눈 <em>coefficient of variance</em> 를 이용하면 된다. 일반적으로 이 값이 1 보다 작은지 아닌지를 기준으로 삼는다.</p>

<p><img src="https://courses.edx.org/c4x/MITx/6.00.2_2x/asset/files_finger_exercises_pythonland.png" alt="" />
<img src="https://courses.edx.org/c4x/MITx/6.00.2_2x/asset/files_finger_exercises_montyland.png" alt="" /></p>

<p align="center">(<a href='http://courses.edx.org/courses/MITx/600.2_2x'>http://courses.edx.org/courses/MITx/600.2_2x</a>)</p>

<p>위 두 도시의 스카이라인중 어떤 도시의 <em>coefficient of variance</em> 가 더 클까?</p>

<p>한가지 더 생각해볼 문제가 있다. 다음의 두 변수는 CoV 를 계산하는 것이 의미가 있을까?</p>

<p>(1) <em>Daily Temperature in Celsius for the city of Boston</em> <br />
(2) <em>The X coordinate of a drunk in the random walk</em>  </p>

<p>의미가 없다. <em>CoV</em> 가 의미있으려면, <em>true zero</em> 가 있어야 한다. 바꿔 말하면 <em>ratio scale</em> 에 대해서만 <em>CoV</em> 가 의미가 있다. 위 두 수치들은 양수 또는 음수값이 있기 때문에 <em>ratio scale</em> 이 아니다.</p>

<h3 id="histogram">Histogram</h3>

<p><em>pylab</em> 에서는 히스토그램을 어떻게 그릴까?</p>

<pre><code class="python">import pylab  
import random


def exampleHist(n):  
    xs = []
    for x in range(n):
        xs.append(random.random())

    pylab.hist(xs, bins=11)
    pylab.show()

exampleHist(10000)  
</code></pre>

<h3 id="references">References</h3>

<p>(1) <a href="http://ko.wikipedia.org/wiki/%EC%83%9D%EC%9D%BC_%EB%AC%B8%EC%A0%9C">http://ko.wikipedia.org</a> <br />
(2) <em>MIT 6.00.2 2x</em> in <strong>edx</strong></p>
    </section>

    <footer>
      
      <section class="author_info margin_top_big">
        <div class="alignleft border rad_circle" style="height: 87px; width: 87px; background-image: url(http://www.gravatar.com/avatar/aa2032ba2302419e3c2ede54f1fbf687?d=404&amp;s=250); background-size: cover;"></div>
        <p class="margin_left_medium text small">Author</p>
        <p class="margin_left_medium text bold"><a href="http://language.is">1ambda</a></p>
        <p class="margin_left_medium text small">Lisp, Emacs, FP</p>
      </section>
      
    </footer>

    

    
    <div id="disqus_thread" class="margin_top_big"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = '1ambda'; // required: replace example with your forum shortname
  var disqus_identifier = '50';
  var disqus_url = 'http://1ambda.github.io/edx-600-2x-1/';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

    </article>
</main>


  
  <script src="../assets/fitvids/jquery.fitvids.js"></script>
<script>
$(document).ready(function(){
  // Target your .container, .wrapper, .post, etc.
  $("section").fitVids();
});
</script>


  <footer class="blog_info margin_top_big padding_medium text center">
    <h5 class="text book small">&copy; 2014 <a href="..">Old Lisper</a>. All rights reserved.</h5>
    <h5 class="text book small"><a href="https://github.com/dreyacosta/velox" target="_blank" class="text bold">Velox theme</a> by <a href="http://dreyacosta.com/">David Rey</a></h5>
    <h5 class="text book small">Proudly published with <a href="http://ghost.org"><span>Ghost</span></a></h5>

  </footer>

  
  <script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = '1ambda'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
 var s = document.createElement('script'); s.async = true;
 s.type = 'text/javascript';
 s.src = '//' + disqus_shortname + '.disqus.com/count.js';
 (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
 }());
</script>



  </body>
  </html>
