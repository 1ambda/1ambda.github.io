<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Blog">
<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

  <title>Process Mining, Week3</title>
  <meta name="description" content="" />

  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  

  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Process Mining, Week3">
  <meta name="twitter:description" content="Four Quality Criteria For Process Discovery real process 로 부터 event log 를 얻고 이것으로 process model 을 만든다.  process model 을 평가하기 위해 해야하는 질문은   Is the process model a correct reflection of the real process? 그러나 real process 를 모르기 때문에 판단하기가 쉽지 않다. 일반적으로 데이터마이닝에서 사용하는 평가">
  <meta name="twitter:creator" content="@yourTwitterUsername">
  <meta name="twitter:image" content="">
  <meta name="twitter:url" content="http://1ambda.github.io/process-mining-week3/">
  <meta name="twitter:domain" content="http://1ambda.github.io">

  

  <link rel="author" href="https://plus.google.com/101105410053351451441?rel=author" />

  <link rel="shortcut icon" href="../favicon.ico">

  <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" />
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Droid+Serif" />
  <link rel='stylesheet' type='text/css' href="http://fonts.googleapis.com/css?family=Open+Sans:600,300" />
  <link rel="stylesheet" type="text/css" href="../assets/stylesheets/xpressio.css" />
  <link rel="stylesheet" type="text/css" href="../assets/1ambda/1ambda.css" />
  <script type="text/javascript" src="../assets/1ambda/modernizr.js">
  </script>
  <script type="text/javascript" src="../assets/1ambda/detectizr.min.js">
  </script>

  <!--load css if windows -->
  <script type="text/javascript">
    if (Modernizr.windows) {
      file = location.pathname.split( "/" ).pop();
      link = document.createElement( "link" );
      link.href = "/assets/1ambda/1ambda_windows.css";
      link.type = "text/css";
      link.rel = "stylesheet";
      link.media = "screen,print";
      document.getElementsByTagName("head")[0].appendChild( link );
    }
  </script>


  
  <link rel="stylesheet" href="../assets/highlight/styles/github.css">
<script src="../assets/highlight/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


  <meta name="generator" content="Ghost 0.5" />
<link rel="alternate" type="application/rss+xml" title="Old Lisper" href="../rss">
<link rel="canonical" href="http://1ambda.github.io/process-mining-week3/" />

  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-52181619-1', '1ambda.github.io');
  ga('send', 'pageview');
</script>

  
</head>
<body>

  
  <script src="../public/jquery.js?v=965587f762"></script>

  

<header class="site_width text center padding_top_big margin_bottom_big">
  
  <h1 class="blog_title margin_bottom_small"><a href="http://1ambda.github.io">Old Lisper</a></h1>
  <h4 class="text book">Functional Programming</h4>
  
  <div class="social border solid top_small bottom_small padding_medium">
  <h6 class="text book color c_black_medium without_margin padding_right_big"><a href="/about-me"><i class="fa fa-user"></i> <span class="margin_left_small desktop">About me</span></a></h6>
  <h6 class="text book color c_black_medium without_margin padding_right_big"><a href="http://kr.linkedin.com/in/1ambda" target="_blank"><i class="fa fa-linkedin-square"></i> <span class="margin_left_small desktop">Linkedin</span></a></h6>
  <h6 class="text book color c_black_medium without_margin"><a href="http://github.com/1ambda" target="_blank"><i class="fa fa-github"></i> <span class="margin_left_small desktop">GitHub</span></a></h6>
</div>

</header>

<main class="site_width" role="main">
  <article class="post tag-coursera tag-process-mining tag-bpmn tag-dependency-graph tag-c-nets">

    

    <header class="text center margin_bottom_medium">
      <h5 class="text book small uppercase color c_black_light margin_bottom_small">Posted in <a href="../tag/coursera">coursera</a>, <a href="../tag/process-mining">process mining</a>, <a href="../tag/bpmn">BPMN</a>, <a href="../tag/dependency-graph">dependency graph</a>, <a href="../tag/c-nets">C-nets</a></h5>
      <h1 class="margin_bottom_medium">Process Mining, Week3</h1>
      <h5 class="text book small uppercase color c_black_light margin_bottom_small"><time datetime="2014-12-09">Tuesday, December 09, 2014</time>
      <br/><br/>
       <a href="http://1ambda.github.io/process-mining-week3/#disqus_thread">Comment</a>
      </h5>
    </header>

    <section>
      <h3 id="fourqualitycriteriaforprocessdiscovery">Four Quality Criteria For Process Discovery</h3>

<p><em>real process</em> 로 부터 <em>event log</em> 를 얻고 이것으로 <em>process model</em> 을 만든다. </p>

<p><em>process model</em> 을 평가하기 위해 해야하는 질문은</p>

<blockquote>
  <p>Is the process model a correct reflection of the real process?</p>
</blockquote>

<p>그러나 <em>real process</em> 를 모르기 때문에 판단하기가 쉽지 않다. 일반적으로 데이터마이닝에서 사용하는 평가 지표인 <em>confusion matrix</em> 를 도입하면</p>

<p><img src="http://lh3.ggpht.com/_qIDcOEX659I/SzjW6wGbmyI/AAAAAAAAAtY/Nls9tSN6DgU/contingency_thumb%5B3%5D.png?imgmax=800" alt="" /></p>

<p align="center">(<a href='http://crsouza.blogspot.kr'>http://crsouza.blogspot.kr</a>)</p>

<ul>
<li><strong>True Positive:</strong> traces possible in model and also possible in real process</li>
<li><strong>True Negative:</strong> traces not possible in model and also not possible in real process</li>
<li><strong>False Positive:</strong> traces possible in model and but not possible in real process</li>
<li><strong>False Negative:</strong> traces not possible in model and but possible in real process</li>
</ul>

<p>보통은 평가 지표로 <em>recall</em>, <em>precision</em>, <em>F1 score</em> 등을 이용하는데 프로세스마이닝에서의 문제는 <em>real process</em> 에서 일어나는 <strong>FN, TP</strong> 를 알 수가 없다는 것이다.</p>

<p>따라서 <em>event log</em> 의 <strong>FN', TP'</strong> 를 이용해서 <em>replay fitness</em> 를 이용한다.</p>

<p><img src="http://latex.codecogs.com/gif.latex?replay%5C%20fitness%20%5C%5C%5C%5C%20%3D%20%7BTP%27%20%5Cover%20TP%27%20&plus;%20FN%27%7D" alt="" /></p>

<p>이 외에도 다양한 문제를 마주칠 수 있는데,</p>

<ul>
<li>보통 이벤트로그로 부터는 <strong>FN'</strong> 이 무엇인지 알 수 없다.</li>
<li>로그가 <em>possible traces</em> 의 일부분만 담고 있다.</li>
<li>Almost vs poorly fitting traces</li>
<li>루프가 있으면 무한히 많은 <em>possible traces</em> 가 있다.</li>
<li>Murphy's law for process mining: <strong>Anything is possible, so pobabilities matter</strong></li>
</ul>

<p>이런 문제점들은 다음의 기준들 사이에서 균형을 맞춰야 함을 알려준다.</p>

<ul>
<li><strong>fitness:</strong> observed behavior fits</li>
<li><strong>simplicity:</strong>  Occam's razor</li>
<li><strong>precision:</strong> avoiding underfitting</li>
<li><strong>generalization:</strong> avoiding overfitting</li>
</ul>

<p><img src="http://image.slidesharecdn.com/processminingchapter05processdiscovery-110510153220-phpapp01/95/process-mining-chapter-5-process-discovery-51-728.jpg?cb=1305062521" alt="" /></p>

<p>여기서 <em>precision</em> 이 문제가 되는 경우라는 것은, <em>flower model</em> 처럼 필요 이상으로 가능한 모든 경우의 수를 도입한 모델이라 보면 된다. 다시 말해서 기존의 <em>log</em> 와는 완전히 다른 로그가 모델에 맞을 경우를 말한다. (<em>underfitting</em>) </p>

<p><br/> <br />
<img src="http://image.slidesharecdn.com/processminingchapter05processdiscovery-110510153220-phpapp01/95/process-mining-chapter-5-process-discovery-52-728.jpg?cb=1305062521" alt="" /></p>

<p>반대로 <em>generalization</em> 이 낮은 모델은, 너무 <em>log</em> 에 맞추느라 복잡해진 경우를 말한다. (<em>overfitting</em>)</p>

<p>따라서 <em>traces</em> 의 수가 적은 경우에 너무 <em>overfitting</em> 하려고 하면 퍼포먼스가 낮아진다. 반대로 <em>traces</em> 수가 상당히 많다면, 다음에 들어올 <em>traces</em> 가 다른 형태일 확률이 낮아지므로 모델을 조금 더 <em>fitting</em> 하는 편이 낫다. (오히려 이 경우는 <em>overfitting</em> 이라 보기 어렵다.)</p>

<p><br/></p>

<p><img src="http://image.slidesharecdn.com/processminingchapter05processdiscovery-110510153220-phpapp01/95/process-mining-chapter-5-process-discovery-43-728.jpg?cb=1305062521" alt="" /></p>

<p><br/></p>

<h3 id="representationalbias">Representational Bias</h3>

<blockquote>
  <p>Modeling language provides a bias</p>
</blockquote>

<p>예를 들어 <em>petri net</em> 같은 경우는 <em>concurrency</em> 를 모델링하는데 문제가 없는 반면 <em>transition system</em> 은 어렵다.</p>

<p><em>concurrency</em> 에 대해서도 생각해 볼 것이, <code>k = 10</code> 의 <em>parallel activities</em> 가 있다면 가능한 <em>traces</em> 는 <code>10! ~= 3600000</code> 이다.</p>

<p>반면 알파 알고리즘이 이 모델을 발견하려면 단지 <code>k(k-1</code> 의 <em>direct succession</em> 만 필요하다.</p>

<p>그러나 알파 알고리즘은 <em>optional(skip)</em> 이 있는 모델을 발견하지 못한다. 그리고, <em>silent transition(OR-joins)</em> 이 있는 모델에서의 가능한 <em>traces</em> 수는</p>

<p><img src="http://latex.codecogs.com/gif.latex?%5Csum_%7Bi%20%3D%200%7D%5Ek%20%5Cbinom%7Bk%7D%7Bi%7D%20i%21" alt="" /></p>

<p><em>WF-net</em> 같은 경우는 <em>unique label</em> 과 관련해서 문제가 있다.</p>

<p><code>L = [&lt;a, c, d&gt;^45, &lt;b, c, e&gt;^42, &lt;a, c, e&gt;^20]</code> </p>

<p>이 있을때, <em>WF-net</em> 은 <code>e</code> 두개인 모델을 발견할 것이다.</p>

<p>그리고 만약 <em>no indirected dependencies</em> 라면,</p>

<p><code>L = [&lt;a, c, d&gt;^45, &lt;b, c, e&gt;^42]</code> 에서 올바른 모델을 찾아내지 못할것이다.  (<code>a, b</code> 가 <code>d, e</code> 의 선택에 영향을 준다.)</p>

<blockquote>
  <p>Visualization of discovered model != representatoinal bias</p>
</blockquote>

<h4 id="whatisprocessdiscoverysodifficult">What is process discovery so difficult?</h4>

<ul>
<li>There are <strong>no negative examples</strong></li>
<li>Due to concurrency, loops, and choices the search space has a complex structure and the log typically contains only a fraction of all possible behaviors</li>
<li>There is no clear relation between the size of a model and its behavior</li>
</ul>

<p>특히 마지막 문제는, 일반적인 경우에선 작은 모델이 작은 로그를 만들어 내지만 프로세스 마이닝에선 작은 모델이라도 많은 로그를 만들 수 있다.</p>

<p>따라서 <em>representational bias</em> 를 잘 고려해서 모델을 선택해야 한다.</p>

<h3 id="businessprocessmodelandnotationbpmn">Business Process Model and Notation (BPMN)</h3>

<blockquote>
  <p>Representational bias impacts search space</p>
</blockquote>

<p><img src="http://upload.wikimedia.org/wikipedia/en/7/71/BPMN_gateway_types.png" alt="" /></p>

<p align="center">(<a href='http://en.wikipedia.org/'>http://en.wikipedia.org/</a>)</p>

<p><em>exclusive OR</em> 은 둘 중 하나만 선택이고, <em>parallel</em> 은 모두로 분기한다. <em>inclusive OR</em> 은 하나 이상을 선택할 수 있다. 더 자세한 내용은 <a href="http://tynerblain.com/blog/2006/07/27/bpmn-gateways/">BPMN Gateway</a> 를 참고하자.</p>

<p>보통 <em>inclusive OR join</em> 이 있으면 <em>synchronization</em> 이 된다. 그리고 앞쪽에 <em>inclusive OR split</em> 이 있고 뒤쪽에 <em>and join</em> 이 있으면 <em>deadlock</em> 이 있을 가능성이 높다.</p>

<p>일반적으로는 <em>OR join, split</em> 을 <em>AND join split</em> 을 결합해야 데드락이 없다.</p>

<p>참고로 <em>BPMN</em> 은 <em>UML</em> 이나 <em>Event-Driven Process Chains, EPCs</em> 와 비스무리하다. 아래는 <em>BPMN</em> 예제</p>

<p><img src="http://sehlhorst.smugmug.com/photos/84432593-M.jpg" alt="" /></p>

<p align="center">(<a href='http://tynerblain.com/blog'>http://tynerblain.com/blog</a>)</p>

<p>보통은 <em>Petri net</em> 이나 <em>process tree</em> 로 작업하고 <em>BPMN</em> 으로 변환한다. <em>BPMN</em> 으로 바로 작업하는 경우는 흔하지 않다고 함.</p>

<h4 id="viciouscycleparadox">Vicious Cycle Paradox</h4>

<p>이부분은 당최 뭔 소린지 이해가.. 나중을 위해서 그림만 넣어놈.</p>

<p><img src="http://image.slidesharecdn.com/processminingchapter02processmodelingandanalysis-121219213500-phpapp02/95/process-mining-chapter02processmodelingandanalysis-14-638.jpg?cb=1355974557" alt="" /></p>

<h3 id="dependencygraphs">Dependency Graphs</h3>

<p><img src="http://www.ijmijournal.com/cms/attachment/305569/1959182/gr6.gif" alt="" /></p>

<p align="center">(<a href='http://www.ijmijournal.com'>http://www.ijmijournal.com</a>)</p>

<p><em>footprint</em> 의 <em>casuality</em> 를 이용해서 <em>dependency graph</em> 를 만들 수 있다. <em>place</em> 가 없는 일종의 <em>Petri Net</em> 이라 볼 수 있다.</p>

<p>참고로 <em>casuality</em> 는</p>

<blockquote>
  <p>causality: <code>x -&gt; y</code>, iff <code>x &gt; y</code> and not <code>y &gt; x</code></p>
</blockquote>

<p><em>dependency graph</em> 는 의존성은 잘 보여주지만 <em>executable semantic</em> 이 없다. 각 노드는 <em>OR join, split</em> 의 <strong>fuzzy</strong> 로 볼 수 있다.</p>

<ul>
<li>Fuzzy models can be viewed as dependency graphs</li>
<li>No precise semantics  </li>
<li>Many ways to create dependency graphs often based on heuristics</li>
</ul>

<h3 id="casualnets">Casual Nets</h3>

<p><img src="http://image.slidesharecdn.com/processminingchapter02processmodelingandanalysis-121219213500-phpapp02/95/process-mining-chapter02processmodelingandanalysis-15-638.jpg?cb=1355974557" alt="" /></p>

<p><em>Casual nets, C-nets</em> 은 <em>dependency graph</em> 에 <em>inpt, output</em> 을 붙여 <em>possible behavior</em> 를 보여준다.</p>

<p><br/></p>

<p>왜 <em>C-nets</em> 을 이야기 할까?</p>

<ul>
<li>Output of several mining techniques, e.g., the well-known huritics miner</li>
<li>Fits well with mainsteam languages (BPMN, EPCs, YAWL, etc.)</li>
<li>Able to model <strong>XOR, AND, OR</strong> but <strong>no sidlent steps or duplicate activities needed</strong></li>
<li>Loose interpretation. <strong>focus on replay semantics rather then executing semantics</strong></li>
</ul>

<p><em>C-nets</em> 에서는 <em>obligation</em> 이 <em>token</em> 의 역할을 한다. </p>

<blockquote>
  <p>Semantics are declarative <br />
  Only valid binding sequences are considered</p>
</blockquote>

<p><em>C-nets</em> 은 <em>WF-nets</em> 으로 쉽게 변환될 수 있다. <em>WF-nets</em> 에선 <em>deadlock</em> 이 있을 수 있는 반면 <em>C-nets</em> 에선 <em>valid seq</em> 만을 논하기 때문에 <em>deadlock</em> 은 이야기 하지 않는다.</p>

<blockquote>
  <p>Valid binding seqence of <em>C-net</em> is, Valid firing sequence of <em>WF-net</em></p>
</blockquote>

<p>그리고 <em>C-net</em> 이 <em>WF-nets</em> 보다 좀 더 표현적이다. 강의에서 나온 <em>C-nets</em> 같은 경우, 무한한 수의 <code>b, c, d</code> 를 표현하면서도 <em>order</em> 가 유지되고, <code>b, c, d</code> 가 같은 수로 반복된다.</p>

<h3 id="heuristicmining">Heuristic Mining</h3>

<p>(1) Learn a dependency graph by counting freq => <strong>dependency graph</strong> <br />
(2) Learn splits and joins => <strong>C-nets</strong> <br />
(3) visualize (and convert if needed) => <strong>BPMN, etc.</strong>  </p>

<h3 id="learningdependencygraphs">Learning Dependency Graphs</h3>

<p>알파 알고리즘을 이용하면 별별 문제가 다 생기는데, 휴리스틱하게 모델을 만들면 이런 문제는 좀 피할 수 있다.</p>

<p>그리고 한 가지 더 생각해 볼 문제는</p>

<blockquote>
  <p>Freqencies matter</p>
</blockquote>

<p>무슨 말인고 하니, 빈번한 로그만 <em>valid</em> 취급하면 <em>overfitting</em> 을 피할 수 있다. 알파 알고리즘에 적용하면, 좀 빈도수가 많은 것들만 <em>valid casuality</em> 로 취급할 수 있다.</p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-110510153227-phpapp02/95/process-mining-chapter-6-advanced-process-discoverytechniques-12-728.jpg?cb=1305062477" alt="" /></p>

<p><br/></p>

<h4 id="dependencymeasure">Dependency Measure</h4>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-110510153227-phpapp02/95/process-mining-chapter-6-advanced-process-discoverytechniques-15-728.jpg?cb=1305062477" alt="" title="" />    </p>

<p><em>dependency measure</em> 값은 <code>-1 ~ 1</code> 인데, 1 에 가까울 수록 <em>casuality</em> 가 있다. 아래 그림은 <em>threshold</em> 를 넘는 <em>direct succession, casuality</em> 만 표시한 <em>dependency graph</em> 다. </p>

<p><em>threshold</em> 가 높아질 수록 그래프가 심플해진다.</p>

<p><br/></p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-110510153227-phpapp02/95/process-mining-chapter-6-advanced-process-discoverytechniques-17-728.jpg?cb=1305062477" alt="" /></p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-110510153227-phpapp02/95/process-mining-chapter-6-advanced-process-discoverytechniques-18-728.jpg?cb=1305062477" alt="" /></p>

<p><em>dependency measure</em> <code>a =&gt; b</code> <em>direct succession</em> <code>a &gt; b</code> 값을 이용해서 <em>sequence, AND split, join, XOR join, split</em> 등의 패턴을 파악할 수 있다.</p>

<p>게다가 <code>a =&gt; a</code> 도 값을 세기 때문에 <em>loop pattern</em> 도 발견할 수 있다</p>

<h3 id="learningcnets">Learning C-nets</h3>

<p>휴리스틱 마이닝의 두번째 단계는 <em>split, join</em> 등을 파악해서 <em>C-nets</em> 을 만드는 것이다.</p>

<p>어떻게 <em>split, join</em> 을 파악할까? 자주 사용하는 두 가지 접근 법이 있다.</p>

<p>(1) <strong>Heuristics approaches:</strong> using a <strong>time window</strong> before and after each activity. By counting sets of input and output acivities the bindings can be determinded (local decision)  </p>

<p>(2) <strong>Optimization approaches:</strong> based on replay, Given a set of possible input and ouput bindings one can see whether reality can be <strong>replayed property</strong>. The set of possible input and output bindings are finite, so a "best set bindings" can be determined using some goal function.</p>

<h4 id="approach1basedonheuristics">Approach 1: Based on heuristics</h4>

<p><em>dependency graph</em> 에서 볼 수 있듯이 각 <em>activity</em> 는 가능한 <em>input, output</em> 이 있다. 얼마나 자주 나오는지 세면 된다. 이 때 어느 범위까지 셀지를 <em>window size</em> 라 부른다.</p>

<p>예를 들어 <em>window size</em> <code>= 4</code> 면</p>

<pre><code>1 ... klbg[a]dhek ...  
2 ... lkgc[a]hedl ...  
3 ... kblg[a]ehdk ...  
4 ... klgb[a]dehk ...  
5 ... klkc[a]dkeh ...  
</code></pre>

<p>이 때 <code>b, c</code> 에 대해서 <code>{b} = 3, {c} = 2</code> 다. 요게 <em>input binding</em></p>

<p><code>{d, e} = 5</code> 다. 요게 <em>output binding</em>. 이 값들을 <em>depdency graph</em> 를 표시하면 된다.</p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-110510153227-phpapp02/95/process-mining-chapter-6-advanced-process-discoverytechniques-19-728.jpg?cb=1305062477" alt="" /></p>

<p><br/></p>

<p>이걸로 끝나는것은 아니고 <em>refinement</em> 가 필요하다.</p>

<ul>
<li>What if there are no corresponding acivities in the input or output window?</li>
<li>Noise filtering (remove infreq bindings)</li>
<li>Handling repeating activities (cut off window size)</li>
<li>Details are out of scope, but be aware of such complications when interpreting result</li>
</ul>

<h4 id="approache2optimizationproblem">Approache 2: Optimization problem</h4>

<ul>
<li>Evaluate all possible acivity bindings and take best one.</li>
<li>Based on the idea that ideally a trace can be <strong>replayed from the initial input state to the final state</strong></li>
<li>This <strong>can be checked</strong> precisely using various replay approaches</li>
<li>Hence, one can use approaches that simply <strong>try bindings exhaustively</strong></li>
</ul>

<p>간단히 말해서 가능한 모든 조합을 구하고, 말이 될 만한 <em>input, output</em> 을 <strong>replay</strong> 를 통해 골라내면 된다.</p>

<p>여기서 평가 기준은 <em>fitness simplicity, precision, generalization</em> 등이다. 시간이 너무 걸린다면 <em>randomize</em>, <em>genetic algorithm</em> 등을 이용할 수 있다. (generic 이 아니고 <em>genetic</em> 이다.)</p>

<h3 id="learningtransitionsystem">Learning Transition System</h3>

<p>지금까지 모델을 만들기 위해 다음의 방법을 배웠다.</p>

<ul>
<li>Alpha algorithm</li>
<li>Heuristic mining <em>dep graph, C-net</em></li>
</ul>

<p>이번시간엔 <em>state-based regions</em> 를 배워보자.</p>

<p>(1) Learning a transition system using a state abstraction => <em>transition system</em>  </p>

<p>(2) Transform the transition system into an equivalent Petri net => <em>Petri net</em>  </p>

<p>(3) visualize (and convert if needed) => <em>BPMN, etc.</em></p>

<p>트랜지션 시스템을 학습하는 방법은, 현재 <em>state</em> 를 기준으로 <em>past, future</em> 를 보고 이 두가지를 합치면 된다. <del>말은 언제나 쉽다.</del> </p>

<p>예를 들어 <code>a b c d c d c d e ^ f a g h h h i</code> 를 기준으로, 현재 상태가 <code>^</code> 라 하면 </p>

<ul>
<li><strong>past:</strong> <code>a b c d c d c d e</code></li>
<li><strong>future:</strong> <code>f a g h h i</code></li>
</ul>

<p>여기서 <em>order</em> 는 무시하고 <em>frequency</em> 만 고려하면 <em>past</em> 는 </p>

<p><code>[a, b, c^3, d^3, e]</code> 가 된다. 만약에, 여기서 <em>time window</em> (<strong>k-tail</strong>) 를 이용하면 <code>[c, d^2, e]</code> 가 된다.</p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-121219213521-phpapp01/95/process-mining-chapter06advancedprocessdiscoverytechniques-29-638.jpg?cb=1355974629" alt="" /></p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-121219213521-phpapp01/95/process-mining-chapter06advancedprocessdiscoverytechniques-30-638.jpg?cb=1355974629" alt="" /></p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-121219213521-phpapp01/95/process-mining-chapter06advancedprocessdiscoverytechniques-31-638.jpg?cb=1355974629" alt="" /></p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-121219213521-phpapp01/95/process-mining-chapter06advancedprocessdiscoverytechniques-32-638.jpg?cb=1355974629" alt="" /></p>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-110510153227-phpapp02/95/process-mining-chapter-6-advanced-process-discoverytechniques-33-728.jpg?cb=1305062477" alt="" /></p>

<h4 id="postprocessing">Postprocessing</h4>

<ul>
<li>remove <em>self-loop</em></li>
<li>imporve <em>diamond structure</em> (for missing interleavings)</li>
<li>merge <em>similar states</em> based on inputs</li>
</ul>

<h3 id="usingregionstodiscoverconcurrency">Using Regions to Discover Concurrency</h3>

<p>이제 <em>transition system</em> 을 <em>Petri net</em> 으로 변경하면 된다. </p>

<p>기본적인 아이디어는 <em>transition system</em> 의 <em>subset</em> 이 <em>Petri net</em> 의 <em>place</em> 의 해당한다는 것이다. 이는 당연한데 트랜지션 시스템에서 어떤 상태는, 이 전까지의 상태의 반영이고, 이건 <em>place</em> 다.</p>

<blockquote>
  <p>State-based regions correspond to places</p>
</blockquote>

<p><img src="http://image.slidesharecdn.com/processminingchapter06advancedprocessdiscoverytechniques-110510153227-phpapp02/95/process-mining-chapter-6-advanced-process-discoverytechniques-34-728.jpg?cb=1305062477" alt="" /></p>

<p>이 때 <em>state-based region</em> 의 <em>enter, exit</em> 를 확인 하면 쉽게 <em>place</em> 를 만들 수 있다.</p>

<blockquote>
  <p>All states need to be reachable</p>
  
  <p>A region is a set of states, such that, if a transition <strong>exits</strong> the region, then all equally labeled trasition <strong>exit</strong> the region</p>
  
  <p>and If a transition <strong>enters</strong> the region, then all equally labeled transitions <strong>enter</strong> the region</p>
  
  <p>All events not entering or exiting the region <strong>do not cross</strong> the region</p>
</blockquote>

<p><code>n</code> 개의 <em>concurrent activity</em> 가 있으면 <code>2^n</code> 개의 <em>state</em> 가 생긴다. 이 때 몇 개의 <em>region</em> 이 생길까? </p>

<p>아무리 많아봐야 1 개의 트랜지션 라벨만 <em>crossing</em> 할 수 있으므로, <code>n</code> <em>split</em> 을 만들 수 있고 여기에 <em>empty</em> 까지 더하면 <code>2(n + 1)</code> 이다.</p>

<p>직선인 <em>petri net</em> 의 경우는 더 심각하다. 모든 <em>transition</em> 의 <em>subset</em> 이 <em>region</em> 이므로 <code>2^(n+1)</code> 이 된다. 따라서 <em>non-trivial minimal region</em> 만 포함해야 한다.</p>

<p><em>Petri net</em> 을 만드는 알고리즘은</p>

<p>(1) For each transition label in the transition system, a <strong>transition</strong> is added to the Petri net <br />
(2) The <strong>minimal non-trivial regions</strong> are computed <br />
(3) For each minimal non-trivial region in the transition system, a <strong>place</strong> is added to the Petri net. <br />
(4) The coressponding arcs are generated <br />
(5) A <strong>token</strong> is aded to each place that corresponds to a region containing the initial state</p>

<p><code>L = [&lt;a, c, d&gt;^45, &lt;b, c, e&gt;^42]</code></p>

<p>의 경우 알파 알고리즘은 <em>non directed dependency</em> 를 발견하지 못하는데, 트랜지션 시스템을 만들고, <em>state-based region</em> 을 이용하면 올바른 <em>petri net</em> 을 만들 수 있다.</p>

<h3 id="references">References</h3>

<p>(1) <a href="http://issuu.com/wmpvanderaalst/docs/procminbook?e=14081202/9829483">Book: Process Mining</a> <br />
(2) <a href="https://d396qusza40orc.cloudfront.net/procmin/lecture_slides/22-Petri%20Nets%20%281%29.pdf">Slide</a> <br />
(3) <strong>Process Mining: Data science in Action</strong> by Wil van der Aalst <br />
(4) <a href="/process-mining-week3/www.processmining.org">www.processmining.org</a> <br />
(5) <a href="http://fluxicon.com">http://fluxicon.com</a> <br />
(6) <a href="http://crsouza.blogspot.kr/2009/12/performing-discriminant-power-analysis.html">Confusion matrix</a> <br />
(7) <a href="http://en.wikipedia.org/wiki/Business_Process_Model_and_Notation#mediaviewer/File:BPMN_gateway_types.png">Wikipedia - BPMN</a> <br />
(8) <a href="http://tynerblain.com/blog/2006/07/27/bpmn-gateways/">BPMN Gateway</a> <br />
(9) <a href="http://www.ijmijournal.com">http://www.ijmijournal.com</a></p>
    </section>

    <footer>
      
      <section class="author_info margin_top_big">
        <div class="alignleft border rad_circle" style="height: 87px; width: 87px; background-image: url(http://www.gravatar.com/avatar/aa2032ba2302419e3c2ede54f1fbf687?d=404&amp;s=250); background-size: cover;"></div>
        <p class="margin_left_medium text small">Author</p>
        <p class="margin_left_medium text bold"><a href="http://language.is">1ambda</a></p>
        <p class="margin_left_medium text small">Lisp, Emacs, FP</p>
      </section>
      
    </footer>

    

    
    <div id="disqus_thread" class="margin_top_big"></div>
<script type="text/javascript">
  /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
  var disqus_shortname = '1ambda'; // required: replace example with your forum shortname
  var disqus_identifier = '77';
  var disqus_url = 'http://1ambda.github.io/process-mining-week3/';

  /* * * DON'T EDIT BELOW THIS LINE * * */
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>

    </article>
</main>


  
  <script src="../assets/fitvids/jquery.fitvids.js"></script>
<script>
$(document).ready(function(){
  // Target your .container, .wrapper, .post, etc.
  $("section").fitVids();
});
</script>


  <footer class="blog_info margin_top_big padding_medium text center">
    <h5 class="text book small">&copy; 2014 <a href="..">Old Lisper</a>. All rights reserved.</h5>
    <h5 class="text book small"><a href="https://github.com/dreyacosta/velox" target="_blank" class="text bold">Velox theme</a> by <a href="http://dreyacosta.com/">David Rey</a></h5>
    <h5 class="text book small">Proudly published with <a href="http://ghost.org"><span>Ghost</span></a></h5>

  </footer>

  
  <script type="text/javascript">
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = '1ambda'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
 var s = document.createElement('script'); s.async = true;
 s.type = 'text/javascript';
 s.src = '//' + disqus_shortname + '.disqus.com/count.js';
 (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
 }());
</script>



  </body>
  </html>
